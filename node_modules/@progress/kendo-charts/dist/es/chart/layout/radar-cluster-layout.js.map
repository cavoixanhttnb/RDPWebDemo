{"version":3,"file":"radar-cluster-layout.js","sources":["radar-cluster-layout.js"],"sourcesContent":["import { ChartElement } from '../../core';\n\nimport { setDefaultOptions } from '../../common';\n\nimport { forEach, forEachReverse } from './utils';\n\nclass RadarClusterLayout extends ChartElement {\n    constructor(options) {\n        super(options);\n\n        this.forEach = options.rtl ? forEachReverse : forEach;\n    }\n\n    reflow(sector) {\n        const { options, children } = this;\n        const { gap, spacing } = options;\n        const count = children.length;\n        const slots = count + gap + (spacing * (count - 1));\n        const slotAngle = sector.angle / slots;\n        let angle = sector.startAngle + slotAngle * (gap / 2);\n\n        this.forEach(children, (child) => {\n            const slotSector = sector.clone();\n            slotSector.startAngle = angle;\n            slotSector.angle = slotAngle;\n\n            if (child.sector) {\n                slotSector.radius = child.sector.radius;\n            }\n\n            child.reflow(slotSector);\n            child.sector = slotSector;\n\n            angle += slotAngle + (slotAngle * spacing);\n        });\n    }\n}\n\nsetDefaultOptions(RadarClusterLayout, {\n    gap: 1,\n    spacing: 0\n});\n\nexport default RadarClusterLayout;"],"names":["super","const","let"],"mappings":"AAAA,SAAS,YAAY,QAAQ,YAAY,CAAC;;AAE1C,SAAS,iBAAiB,QAAQ,cAAc,CAAC;;AAEjD,SAAS,OAAO,EAAE,cAAc,QAAQ,SAAS,CAAC;;AAElD,IAAM,kBAAkB,GAAqB;IAAC,AAC1C,2BAAW,CAAC,OAAO,EAAE;QACjBA,YAAK,KAAA,CAAC,MAAA,OAAO,CAAC,CAAC;;QAEf,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,GAAG,cAAc,GAAG,OAAO,CAAC;KACzD;;;;kEAAA;;IAED,6BAAA,MAAM,mBAAA,CAAC,MAAM,EAAE;QACX,AAAK,AAAsB,OAAA,GAAG,IAAI;QAA1B,IAAA,OAAO;QAAE,IAAA,QAAQ,gBAAnB,AAAS,AAAU,AAAS,AAAC;QACnC,AAAK,AAAG,IAAA,GAAG;QAAE,IAAA,OAAO,mBAAd,AAAK,AAAS,AAAE,AAAU,AAAC;QACjCC,GAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC9BA,GAAK,CAAC,KAAK,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,OAAO,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;QACpDA,GAAK,CAAC,SAAS,GAAG,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;QACvCC,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC,UAAU,GAAG,SAAS,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;;QAEtD,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAA,CAAC,KAAK,EAAE,AAAG;YAC9BD,GAAK,CAAC,UAAU,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;YAClC,UAAU,CAAC,UAAU,GAAG,KAAK,CAAC;YAC9B,UAAU,CAAC,KAAK,GAAG,SAAS,CAAC;;YAE7B,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;aAC3C;;YAED,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YACzB,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC;;YAE1B,KAAK,IAAI,SAAS,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,CAAC;SAC9C,CAAC,CAAC;KACN,CAAA,AACJ;;;EA9BgC,YA8BhC,GAAA;;AAED,iBAAiB,CAAC,kBAAkB,EAAE;IAClC,GAAG,EAAE,CAAC;IACN,OAAO,EAAE,CAAC;CACb,CAAC,CAAC;;AAEH,eAAe,kBAAkB"}