{"version":3,"file":"shape-builder.js","sources":["shape-builder.js"],"sourcesContent":["import { geometry as geom, drawing as draw } from '@progress/kendo-drawing';\nimport { Class } from '../common';\n\nconst DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.\n\nclass ShapeBuilder extends Class {\n    createRing(sector, options) {\n        const startAngle = sector.startAngle + 180;\n        let endAngle = sector.angle + startAngle;\n\n        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100\n        if (sector.angle > 0 && startAngle === endAngle) {\n            endAngle += DIRECTION_ANGLE;\n        }\n\n        const center = new geom.Point(sector.center.x, sector.center.y);\n        const radius = Math.max(sector.radius, 0);\n        const innerRadius = Math.max(sector.innerRadius, 0);\n        const arc = new geom.Arc(center, {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: radius,\n            radiusY: radius\n        });\n        const path = draw.Path.fromArc(arc, options).close();\n\n        if (innerRadius) {\n            arc.radiusX = arc.radiusY = innerRadius;\n            const innerEnd = arc.pointAt(endAngle);\n            path.lineTo(innerEnd.x, innerEnd.y);\n            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\n        } else {\n            path.lineTo(center.x, center.y);\n        }\n\n        return path;\n    }\n}\n\nShapeBuilder.current = new ShapeBuilder();\n\nexport default ShapeBuilder;"],"names":["const","let"],"mappings":"AAAA,SAAS,QAAQ,IAAI,IAAI,EAAE,OAAO,IAAI,IAAI,QAAQ,yBAAyB,CAAC;AAC5E,SAAS,KAAK,QAAQ,WAAW,CAAC;;AAElCA,GAAK,CAAC,eAAe,GAAG,KAAK,CAAC;;AAE9B,IAAM,YAAY,GAAc;IAAC;;;;;;;;IAAA,AAC7B,uBAAA,UAAU,uBAAA,CAAC,MAAM,EAAE,OAAO,EAAE;QACxBA,GAAK,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC;QAC3CC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC;;;QAGzC,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,UAAU,KAAK,QAAQ,EAAE;YAC7C,QAAQ,IAAI,eAAe,CAAC;SAC/B;;QAEDD,GAAK,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAChEA,GAAK,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAC1CA,GAAK,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACpDA,GAAK,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YAC7B,UAAU,EAAE,UAAU;YACtB,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,MAAM;SAClB,CAAC,CAAC;QACHA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;;QAErD,IAAI,WAAW,EAAE;YACb,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,GAAG,WAAW,CAAC;YACxCA,GAAK,CAAC,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;SAClE,MAAM;YACH,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;SACnC;;QAED,OAAO,IAAI,CAAC;KACf,CAAA,AACJ;;;EAhC0B,KAgC1B,GAAA;;AAED,YAAY,CAAC,OAAO,GAAG,IAAI,YAAY,EAAE,CAAC;;AAE1C,eAAe,YAAY"}