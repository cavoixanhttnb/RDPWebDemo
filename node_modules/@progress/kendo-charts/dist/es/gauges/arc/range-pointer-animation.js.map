{"version":3,"file":"range-pointer-animation.js","sources":["range-pointer-animation.js"],"sourcesContent":["import { drawing, Color } from '@progress/kendo-drawing';\nimport { interpolateValue, setDefaultOptions, round, limitValue } from '../../common';\nimport { ANGULAR_SPEED, LINEAR, RADIAL_RANGE_POINTER } from '../constants';\n\nconst MAX_DURATION = 800;\n\nclass RangePointerAnimation extends drawing.Animation {\n    constructor(element, options) {\n        super(element, options);\n\n        const animationOptions = this.options;\n        const duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;\n        animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);\n\n        const startColor = element.elements.options.get(\"stroke.color\");\n        const color = element.currentColor();\n        if (startColor !== color) {\n            this.startColor = new Color(startColor);\n            this.color = new Color(color);\n        }\n    }\n\n    step(pos) {\n        const { options, startColor, color } = this;\n        const angle = interpolateValue(options.oldAngle, options.newAngle, pos);\n        this.element.angle(angle);\n\n        if (color) {\n            const r = round(interpolateValue(startColor.r, color.r, pos));\n            const g = round(interpolateValue(startColor.g, color.g, pos));\n            const b = round(interpolateValue(startColor.b, color.b, pos));\n\n            this.element.stroke(new Color(r, g, b).toHex());\n        }\n    }\n}\n\nsetDefaultOptions(RangePointerAnimation, {\n    easing: LINEAR,\n    duration: ANGULAR_SPEED\n});\n\ndrawing.AnimationFactory.current.register(RADIAL_RANGE_POINTER, RangePointerAnimation);\n\nexport default RangePointerAnimation;"],"names":["const","super"],"mappings":"AAAA,SAAS,OAAO,EAAE,KAAK,QAAQ,yBAAyB,CAAC;AACzD,SAAS,gBAAgB,EAAE,iBAAiB,EAAE,KAAK,EAAE,UAAU,QAAQ,cAAc,CAAC;AACtF,SAAS,aAAa,EAAE,MAAM,EAAE,oBAAoB,QAAQ,cAAc,CAAC;;AAE3EA,GAAK,CAAC,YAAY,GAAG,GAAG,CAAC;;AAEzB,IAAM,qBAAqB,GAA0B;IAAC,AAClD,8BAAW,CAAC,OAAO,EAAE,OAAO,EAAE;QAC1BC,UAAK,KAAA,CAAC,MAAA,OAAO,EAAE,OAAO,CAAC,CAAC;;QAExBD,GAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC;QACtCA,GAAK,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QACtH,gBAAgB,CAAC,QAAQ,GAAG,UAAU,CAAC,QAAQ,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;;QAE9EA,GAAK,CAAC,UAAU,GAAG,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAChEA,GAAK,CAAC,KAAK,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,UAAU,KAAK,KAAK,EAAE;YACtB,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,CAAC;YACxC,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;SACjC;KACJ;;;;wEAAA;;IAED,gCAAA,IAAI,iBAAA,CAAC,GAAG,EAAE;QACN,AAAK,AAA+B,OAAA,GAAG,IAAI;QAAnC,IAAA,OAAO;QAAE,IAAA,UAAU;QAAE,IAAA,KAAK,aAA5B,AAAS,AAAY,AAAO,AAAS,AAAC;QAC5CA,GAAK,CAAC,KAAK,GAAG,gBAAgB,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACxE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;;QAE1B,IAAI,KAAK,EAAE;YACPA,GAAK,CAAC,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YAC9DA,GAAK,CAAC,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YAC9DA,GAAK,CAAC,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;;YAE9D,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;SACnD;KACJ,CAAA,AACJ;;;EA7BmC,OAAO,CAAC,SA6B3C,GAAA;;AAED,iBAAiB,CAAC,qBAAqB,EAAE;IACrC,MAAM,EAAE,MAAM;IACd,QAAQ,EAAE,aAAa;CAC1B,CAAC,CAAC;;AAEH,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,CAAC;;AAEvF,eAAe,qBAAqB"}